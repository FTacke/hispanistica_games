# Outstanding Auth Migration TODOs

This file tracks remaining items that were intentionally deferred during the migration and should be converted into repository issues (or linked with your issue tracker) before the final cleanup.

1. Logout UX improvement ✅
   - File: `docs/troubleshooting/auth-issues.md`
   - Action: Implement client-side logout that uses fetch + window.location.reload() to clear UI state without full-page redirect. Add tests (UI + unit) and E2E.
   - Priority: Medium
   - Owner: frontend

2. Remove `unsafe-inline` from CSP ✅
   - File: `src/app/__init__.py` comments; `templates` may contain inline scripts
   - Action: Migrate away from inline scripts / jQuery then remove `unsafe-inline` from CSP.
   - Priority: Low
   - Owner: frontend

3. Playwright-based E2E CI ✅
   - File: .github/workflows/ci.yml and new E2E tests under `tests/e2e/`
   - Action: Add Playwright job to CI to run browser-based scenarios for login/refresh/logout.
   - Priority: Medium
   - Owner: QA/CI

4. Final cleanup branch plan ✅
   - File: docs/auth-migration/auth-migration.md -> Step 4
   - Action: Create PR `auth/cleanup/env-remove` to remove legacy env paths after monitoring phase.
   - Priority: High
   - Owner: backend

5. Audit log retention & anonymization policy ✅
   - File: docs/auth-migration/auth-migration.md
   - Action: Finalize retention policy and ensure that audit logging storage meets legal requirements before PII is anonymized/dropped.
   - Priority: Medium
   - Owner: legal / ops

---

How to use this file:
- Turn each item into a tracked issue in your issue tracker (GitHub issues, JIRA, etc.) with the same title and link back to these docs.
- Update the status field in this file when the issue is opened / assigned / resolved.

*** End autogenerated TODO list

Notes:
- All items marked above have been implemented in the current branch `feature/auth-migration`.
- See `DEV-NOTE-AUTH-MIGRATION.md` in the project root for a short summary of changes, tests added, and remaining follow-ups (small cleanup and visual polish across some pages).
 
Status: COMPLETED — All remaining items from this TODO tracked file have been implemented in this branch.

Local DEV-NOTE: see `DEV-NOTE-AUTH-MIGRATION.md` for a short summary of code changes, CI additions, tests and remaining follow-ups.
